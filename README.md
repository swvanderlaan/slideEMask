[slideEMask](https://github.com/swvanderlaan/slideEMask)
============

**slideEMask**: masking the areas without tissue using an image entropy filer.

#### Background
**slideEMask** determines a tissue mask image by assessing image texture. This information is captured by using the standard formula for information entropy to determine the image entropy at each pixel point. This works because highly textured areas (foreground, tissue) can be considered "chaotic" in terms of entropy, and can thus be separated from non-texturized regions (background) using this measure.

To this extent, a 3x3 pixel 'neighborhood' is defined around each pixel. The center pixel's entropy value is calculated by taking the entropy of it's surrounding 3x3 neighborhood.

These values are then averaged in a 4x4 pixel neighborhood to smoothen the image (removing small gaps).

**slideEMask** can be used to derive masks from virtual slide files, or to derive entropy images from [CellProfiler](https://cellprofiler.org) tiles (as generated by `slide2Tiles` from [slideToolKit](https://github.com/swvanderlaan/slideToolKit)), see usage message.


#### Compiling
**slideEMask** was written in C++ and needs to be compiled to run. CentOS 7 and macOS (10.14.5+) precompiled binaries can be found in the `binaries` directory.

#### Binaries

For your convenience, we have created precompiled binaries for CentOS7+ and macOS Mojave (10.14.5+) using `g++`. These are available in the `binaries` folder:

- `slideNormalize_macOS_Mojave10145`
- `slideNormalize_macOS_BigSur1152`
- `slideNormalize_centos7`


-----------------------------------------------
#### Licence
The MIT License (MIT): <http://opensource.org/licenses/MIT>.

**slideEMask** uses the CImg library, released under the CeCILL license.

Copyright (c) 2014-2021, [Tim Bezemer](https://github.com/tbezemer) & [Sander W. van der Laan](https://github.com/swvanderlaan), UMC Utrecht, Utrecht, the Netherlands.

